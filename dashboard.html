<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="PrepSync Dashboard - Access your courses, study materials, trending notes, and student profile analytics.">
    <title>PrepSync Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <style>
        /* In-file styles for quick fixes/modal overlays */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 99;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.open {
            display: flex;
        }

        /* Modal Glass Inputs */
        .input-glass {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            /* Very light translucent */
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
            transition: border-color 0.2s;
        }

        .input-glass:focus {
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="brand">
            <ion-icon name="shapes"></ion-icon>
            <span>PrepSync</span>
        </div>

        <ul class="nav-menu">
            <li><a class="nav-link active" onclick="switchTab('dashboard')">Dashboard</a></li>
            <li><a class="nav-link" onclick="switchTab('subjects')">Resources</a></li>
            <li><a class="nav-link" onclick="switchTab('about')">About</a></li>
            <!-- "Student" logic handled via JS visibility -->
            <li id="profileTab" class="hidden"><a class="nav-link" onclick="switchTab('profile')">My Profile</a></li>
            <!-- "Admin" logic handled via JS visibility -->
            <li id="adminTab" class="hidden"><a class="nav-link" onclick="switchTab('admin')">Admin</a></li>
        </ul>

        <div class="auth-buttons">
            <div style="display: flex; align-items: center; gap: 10px; margin-right: 15px;">
                <div style="text-align: right; line-height: 1.2;">
                    <span id="welcomeName" style="display: block; font-weight: 700; font-size: 0.9rem;">Student</span>
                    <span id="userRole" style="font-size: 0.75rem; opacity: 0.8;">STUDENT</span>
                </div>
                <div style="width: 36px; height: 36px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: white;"
                    id="userInitial">U</div>
            </div>
            <button id="logoutBtn" class="btn btn-primary" style="padding: 8px 16px; font-size: 0.85rem;">Sign
                out</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section" style="padding: 60px 20px; text-align: center;">
        <!-- Blobs -->
        <div class="blob blob-pale-blue" style="top: -100px; left: -150px; transform: scale(0.6);"></div>
        <div class="blob blob-orange" style="right: -50px; top: 20px; transform: scale(0.7);"></div>
        <div class="blob blob-lime-lg" style="bottom: -150px; right: -50px; transform: scale(0.5);"></div>

        <div class="hero-content animate-fade-in" style="max-width: 800px; margin: 0 auto;">
            <h1 class="hero-title" style="font-size: 3rem; margin-bottom: 10px;">What are you studying today?</h1>
            <p class="hero-subtitle" style="font-size: 1.1rem; opacity: 0.9; margin-bottom: 30px;">Find the best study
                documents from your seniors and professors.</p>

            <div class="hero-search"
                style="box-shadow: 0 10px 30px rgba(0,0,0,0.2); max-width: 600px; margin: 0 auto; display: flex; align-items: center; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 50px; padding: 5px 10px; border: 1px solid rgba(255,255,255,0.2);">
                <input type="text" id="searchSubject"
                    placeholder="Search for courses, notes, or previous year papers (e.g. INT213)"
                    style="flex: 1; background: transparent; border: none; padding: 15px 20px; color: white; font-size: 1rem; outline: none;">
                <button id="searchBtn"
                    style="background: var(--primary); color: white; border: none; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; transition: transform 0.2s;"><ion-icon
                        name="search"></ion-icon></button>
            </div>
        </div>
    </div>

    <!-- Main Content Container (White Background) -->
    <div class="dashboard-container">

        <!-- View: Dashboard/Home -->
        <div id="view-dashboard" class="content-view">
            <div class="dashboard-layout">
                <!-- Main Content (Left) -->
                <div class="main-content">
                    <!-- Quick Stats -->
                    <div style="display: flex; gap: 20px; margin-bottom: 40px; flex-wrap: wrap;">
                        <div class="glass-panel"
                            style="padding: 20px; flex: 1; display: flex; align-items: center; gap: 15px; min-width: 200px;">
                            <ion-icon name="document-text" style="font-size: 2.5rem; color: var(--primary);"></ion-icon>
                            <div>
                                <h4 style="color: var(--text-muted); font-size: 0.9rem;">Total Materials</h4>
                                <div style="font-size: 1.8rem; font-weight: 700; color: var(--text-main);"
                                    id="dashTotalMaterials">0</div>
                            </div>
                        </div>
                        <div class="glass-panel"
                            style="padding: 20px; flex: 1; display: flex; align-items: center; gap: 15px; min-width: 200px;">
                            <ion-icon name="cloud-download" style="font-size: 2.5rem; color: #10b981;"></ion-icon>
                            <div>
                                <h4 style="color: var(--text-muted); font-size: 0.9rem;">Total Downloads</h4>
                                <div style="font-size: 1.8rem; font-weight: 700; color: var(--text-main);"
                                    id="dashTotalDownloads">0</div>
                            </div>
                        </div>
                        <div class="glass-panel"
                            style="padding: 20px; flex: 1; display: flex; align-items: center; gap: 15px; min-width: 200px;">
                            <ion-icon name="people" style="font-size: 2.5rem; color: #f59e0b;"></ion-icon>
                            <div>
                                <h4 style="color: var(--text-muted); font-size: 0.9rem;">Active Students</h4>
                                <div style="font-size: 1.8rem; font-weight: 700; color: var(--text-main);"
                                    id="dashActiveStudents">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="section-header">
                        <h3 class="section-title" style="font-size: 1.5rem;">üî• Trending Materials</h3>
                    </div>
                    <div class="card-grid"
                        style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); margin-bottom: 40px;"
                        id="trendingMaterialsGrid">
                        <!-- Fallback if empty -->
                    </div>

                    <div class="section-header">
                        <h3 class="section-title" style="font-size: 1.5rem;">üÜï Recently Added</h3>
                    </div>
                    <div class="card-grid"
                        style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); margin-bottom: 40px;"
                        id="recentMaterialsGrid">
                        <!-- Fallback if empty -->
                    </div>
                </div>

                <!-- Sidebar (Right) -->
                <aside class="sidebar">
                    <!-- Widget: Quick Resource Links -->
                    <div class="widget">
                        <h4 class="widget-title"><ion-icon name="link-outline"></ion-icon> Quick Resource Links</h4>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <a href="#" class="btn btn-ghost"
                                style="width: 100%; justify-content: flex-start; padding: 12px; background: rgba(59, 130, 246, 0.05); border: 1px solid rgba(59, 130, 246, 0.1);">
                                <ion-icon name="school-outline" style="color: #3b82f6;"></ion-icon> Learning Management
                                (LMS)
                            </a>
                            <a href="#" class="btn btn-ghost"
                                style="width: 100%; justify-content: flex-start; padding: 12px; background: rgba(16, 185, 129, 0.05); border: 1px solid rgba(16, 185, 129, 0.1);">
                                <ion-icon name="person-circle-outline" style="color: #10b981;"></ion-icon> Student
                                Portal (UMS)
                            </a>
                            <a href="#" class="btn btn-ghost"
                                style="width: 100%; justify-content: flex-start; padding: 12px; background: rgba(245, 158, 11, 0.05); border: 1px solid rgba(245, 158, 11, 0.1);">
                                <ion-icon name="library-outline" style="color: #f59e0b;"></ion-icon> Digital Library
                                Access
                            </a>
                        </div>
                    </div>

                    <!-- Widget: Notice Board -->
                    <div class="widget">
                        <h4 class="widget-title"><ion-icon name="megaphone-outline"></ion-icon> Notice Board</h4>
                        <div style="background: #f8fafc; padding: 12px; border-radius: 8px; margin-bottom: 10px;">
                            <div
                                style="font-weight: 600; font-size: 0.85rem; color: var(--primary); margin-bottom: 4px;">
                                University Update</div>
                            <p style="font-size: 0.8rem; color: var(--text-muted);">Library will be open 24/7 during
                                exam week.</p>
                        </div>
                        <div style="background: #f8fafc; padding: 12px; border-radius: 8px;">
                            <div style="font-weight: 600; font-size: 0.85rem; color: #3b82f6; margin-bottom: 4px;">
                                Faculty Message</div>
                            <p style="font-size: 0.8rem; color: var(--text-muted);">New lecture notes for INT222
                                uploaded.</p>
                        </div>
                    </div>

                    <!-- Widget: Top Contributors -->
                    <div class="widget">
                        <h4 class="widget-title"><ion-icon name="trophy-outline"></ion-icon> Top Contributors</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;" id="topContributors">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div
                                        style="width: 32px; height: 32px; background: #c084fc; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.8rem;">
                                        RP</div>
                                    <span style="font-size: 0.9rem; font-weight: 500;">Rahul P.</span>
                                </div>
                                <span class="badge badge-blue">42 Uploads</span>
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div
                                        style="width: 32px; height: 32px; background: #fb923c; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.8rem;">
                                        SK</div>
                                    <span style="font-size: 0.9rem; font-weight: 500;">Sonal K.</span>
                                </div>
                                <span class="badge badge-blue">38 Uploads</span>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <!-- View: University (Subjects) -->
        <div id="view-subjects" class="content-view hidden">
            <div class="section-header">
                <h3 class="section-title">My Courses</h3>
                <button class="btn btn-primary hidden" id="addSubjectBtn"><ion-icon name="add"></ion-icon> Add
                    Course</button>
            </div>

            <!-- Subjects Grid -->
            <div class="card-grid" id="subjectsGrid">
                <!-- JS Populates this -->
            </div>
        </div>

        <!-- Subject Details View (Hidden by default) -->
        <div id="view-subject-details" class="content-view hidden">
            <button class="btn btn-ghost" onclick="switchTab('subjects')" style="margin-bottom: 20px;">
                <ion-icon name="arrow-back-outline"></ion-icon> Back to Courses
            </button>

            <div class="glass-panel"
                style="padding: 30px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; border-left: 5px solid var(--primary);">
                <div style="display: flex; align-items: center; gap: 20px;">
                    <div id="detSubIcon"
                        style="width: 60px; height: 60px; background: rgba(59, 130, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 2rem;">
                        <ion-icon name="book"></ion-icon>
                    </div>
                    <div>
                        <h2 id="detSubName" style="font-size: 2rem; margin-bottom: 5px; font-weight: 800;">Subject Name
                        </h2>
                        <span id="detSubCode" class="badge badge-blue" style="font-size: 0.9rem;">CODE</span>
                    </div>
                </div>
                <button class="btn btn-primary" id="detUploadBtn"><ion-icon name="cloud-upload-outline"></ion-icon>
                    Upload Material</button>
            </div>

            <!-- Categorized Materials -->
            <div id="category-Notes" style="margin-bottom: 30px; display: none;">
                <h3
                    style="font-size: 1.2rem; margin-bottom: 15px; color: var(--text-main); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">
                    üìù Lecture & Handwritten Notes</h3>
                <div id="list-Notes" style="display: flex; flex-direction: column; gap: 10px;"></div>
            </div>

            <div id="category-Assignments" style="margin-bottom: 30px; display: none;">
                <h3
                    style="font-size: 1.2rem; margin-bottom: 15px; color: var(--text-main); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">
                    üíª Assignments & Practicals</h3>
                <div id="list-Assignments" style="display: flex; flex-direction: column; gap: 10px;"></div>
            </div>

            <div id="category-Exams" style="margin-bottom: 30px; display: none;">
                <h3
                    style="font-size: 1.2rem; margin-bottom: 15px; color: var(--text-main); border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">
                    üìÑ Previous Year Papers</h3>
                <div id="list-Exams" style="display: flex; flex-direction: column; gap: 10px;"></div>
            </div>

            <div id="noMaterialsMessage"
                style="display: none; text-align:center; padding: 40px; color: var(--text-muted); background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px dashed rgba(255,255,255,0.1);">
                <ion-icon name="folder-open-outline"
                    style="font-size: 3rem; opacity: 0.5; margin-bottom: 10px;"></ion-icon>
                <p>No materials uploaded for this course yet.</p>
            </div>
        </div>
        <div id="view-about" class="content-view hidden" style="margin-top: 40px;">
            <h3 class="section-title">About PrepSync</h3>

            <div
                style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 30px; margin-bottom: 20px; align-items: start;">
                <!-- Left Column: App Branding & Mission -->
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div class="glass-panel"
                        style="padding: 40px; text-align: center; background: linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(59, 130, 246, 0.05)); border: 1px solid rgba(255,255,255,0.05);">
                        <ion-icon name="shapes"
                            style="font-size: 4rem; color: var(--primary); margin-bottom: 15px; filter: drop-shadow(0 0 15px rgba(34,197,94,0.4)); transition: transform 0.3s ease;"></ion-icon>
                        <h2 style="font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; color: var(--text-main);">
                            PrepSync <span
                                style="font-size: 1rem; font-weight: 600; opacity: 0.6; vertical-align: middle; padding: 2px 8px; background: rgba(255,255,255,0.05); border-radius: 12px; margin-left: 5px;">v2.0</span>
                        </h2>
                        <p
                            style="color: var(--text-muted); font-size: 1.1rem; max-width: 450px; margin: 0 auto; line-height: 1.6;">
                            The centralized digital educational hub empowering seamless academic sharing and
                            collaboration.
                        </p>
                    </div>

                    <div class="glass-panel" style="padding: 30px;">
                        <h4
                            style="font-size: 1.2rem; margin-bottom: 15px; color: var(--text-main); display: flex; align-items: center; gap: 10px;">
                            <ion-icon name="rocket-outline" style="color: #fb923c; font-size: 1.4rem;"></ion-icon> Core
                            Mission
                        </h4>
                        <p style="color: var(--text-muted); line-height: 1.7; font-size: 0.95rem;">
                            PrepSync empowers students and faculty to seamlessly share, organize, and access academic
                            resources‚Äîsuch as lecture notes, assignments, and previous year exam papers‚Äîwithin one
                            highly
                            structured, premium interface. We believe learning should be collaborative, accessible, and
                            elegantly organized.
                        </p>
                    </div>
                </div>

                <!-- Right Column: Developer Card -->
                <div class="glass-panel"
                    style="padding: 40px 30px; display: flex; flex-direction: column; align-items: center; text-align: center; border-top: 4px solid var(--primary); position: relative; overflow: hidden;">
                    <!-- Decorative background element -->
                    <div
                        style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: var(--primary); filter: blur(80px); opacity: 0.2;">
                    </div>

                    <div
                        style="width: 110px; height: 110px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), #38bdf8); padding: 4px; margin-bottom: 25px; box-shadow: 0 10px 30px rgba(34,197,94,0.3);">
                        <div
                            style="width: 100%; height: 100%; border-radius: 50%; background: #1e293b; display: flex; align-items: center; justify-content: center; font-size: 2.2rem; font-weight: 800; color: white; letter-spacing: -2px;">
                            NH
                        </div>
                    </div>

                    <h3 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 5px; color: var(--text-main);">
                        Namagiri
                        Hemanth Kumar</h3>
                    <p
                        style="color: var(--primary); font-size: 0.85rem; font-weight: 700; margin-bottom: 20px; letter-spacing: 1.5px; text-transform: uppercase;">
                        Lead Developer & Creator</p>

                    <p style="color: var(--text-muted); font-size: 0.95rem; line-height: 1.6; margin-bottom: 30px;">
                        Passionate about building intuitive digital experiences that solve real-world problems for
                        students
                        and educators alike.
                    </p>

                    <div style="width: 100%; display: flex; flex-direction: column; gap: 12px; z-index: 10;">
                        <a href="mailto:hemanthnamagiri@gmail.com" class="btn btn-primary"
                            style="width: 100%; justify-content: center; padding: 14px; font-size: 0.95rem;">
                            <ion-icon name="mail" style="margin-right: 8px; font-size: 1.2rem;"></ion-icon> Email Me
                        </a>
                        <a href="https://www.linkedin.com/in/namagirihemanth51" target="_blank" class="btn btn-ghost"
                            style="width: 100%; justify-content: center; padding: 14px; font-size: 0.95rem; background: rgba(10, 102, 194, 0.1); border: 1px solid rgba(10, 102, 194, 0.3); color: #60a5fa;">
                            <ion-icon name="logo-linkedin" style="margin-right: 8px; font-size: 1.2rem;"></ion-icon>
                            LinkedIn
                        </a>
                        <a href="https://github.com/hemanthnamagiri8978" target="_blank" class="btn btn-ghost"
                            style="width: 100%; justify-content: center; padding: 14px; font-size: 0.95rem; background: rgba(51, 51, 51, 0.6); border: 1px solid rgba(255, 255, 255, 0.2); color: white;">
                            <ion-icon name="logo-github"
                                style="margin-right: 8px; font-size: 1.2rem; color: white;"></ion-icon> GitHub
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-profile" class="content-view hidden" style="margin-top: 40px;">
            <h3 class="section-title">Student Profile Analytics</h3>

            <div style="display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
                <!-- Profile Card -->
                <div class="glass-panel" style="padding: 30px; flex: 1; text-align: center; min-width: 250px;">
                    <div style="width: 80px; height: 80px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; font-weight: 700; color: white; margin: 0 auto 15px auto;"
                        id="profileInitial">S</div>
                    <h2 style="color: var(--text-main); margin-bottom: 5px;" id="profileName">Student</h2>
                    <p style="color: var(--text-muted); font-size: 0.9rem;" id="profileRole">STUDENT ‚Ä¢ Member</p>
                </div>

                <!-- Progress Stats -->
                <div class="glass-panel"
                    style="padding: 30px; flex: 2; display: flex; justify-content: space-around; align-items: center; min-width: 300px;">
                    <div style="text-align: center;">
                        <h4 style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Materials
                            Downloaded</h4>
                        <div style="font-size: 2.5rem; font-weight: 700; color: #10b981;" id="profileDownloads">0</div>
                    </div>
                    <div style="width: 1px; height: 60px; background: rgba(255,255,255,0.1);"></div>
                    <div style="text-align: center;">
                        <h4 style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px;">Preparation
                            Progress</h4>
                        <div style="position: relative; width: 80px; height: 80px; margin: 0 auto;">
                            <!-- Simple circular progress using conic-gradient -->
                            <div id="progressCircle"
                                style="width: 100%; height: 100%; border-radius: 50%; background: conic-gradient(var(--primary) 0%, rgba(255,255,255,0.05) 0%); display: flex; align-items: center; justify-content: center;">
                                <div style="width: 60px; height: 60px; background: #0f172a; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--text-main);"
                                    id="progressText">0%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-header">
                <h3 class="section-title" style="font-size: 1.2rem;">Recent Activity</h3>
            </div>
            <div class="glass-panel" style="padding: 20px;">
                <ul id="profileActivityList"
                    style="list-style: none; padding: 0; margin: 0; color: var(--text-muted); display: flex; flex-direction: column; gap: 15px;">
                    <li
                        style="text-align: center; padding: 20px; border: 1px dashed rgba(255,255,255,0.1); border-radius: 8px;">
                        No recent activity tracked. Download some materials!</li>
                </ul>
            </div>
        </div>

        <div id="view-admin" class="content-view hidden" style="margin-top: 40px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                <h3 class="section-title" style="margin-bottom: 0;">Admin Command Center</h3>
                <button class="btn btn-primary" onclick="window.switchTab('dashboard')"
                    style="display: flex; gap: 8px; align-items: center;">
                    <ion-icon name="speedometer-outline"></ion-icon> Dashboard
                </button>
            </div>

            <!-- Premium Admin Stats -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div class="glass-panel"
                    style="padding: 25px; display: flex; align-items: center; justify-content: space-between; transition: all 0.3s ease; cursor: default;"
                    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 35px rgba(59, 130, 246, 0.2)';"
                    onmouseout="this.style.transform='none'; this.style.boxShadow='none';">
                    <div>
                        <h4
                            style="color: var(--text-muted); font-size: 0.95rem; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px;">
                            Total Users</h4>
                        <div style="font-size: 3rem; font-weight: 800; color: var(--text-main);" id="statUsers">0
                        </div>
                    </div>
                    <div
                        style="width: 70px; height: 70px; border-radius: 16px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.05)); border: 1px solid rgba(59, 130, 246, 0.2); display: flex; align-items: center; justify-content: center; color: #3b82f6; font-size: 2.2rem; box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.1);">
                        <ion-icon name="people"></ion-icon>
                    </div>
                </div>

                <div class="glass-panel"
                    style="padding: 25px; display: flex; align-items: center; justify-content: space-between; transition: all 0.3s ease; cursor: default;"
                    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 35px rgba(34, 197, 94, 0.2)';"
                    onmouseout="this.style.transform='none'; this.style.boxShadow='none';">
                    <div>
                        <h4
                            style="color: var(--text-muted); font-size: 0.95rem; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px;">
                            Total Materials
                        </h4>
                        <div style="font-size: 3rem; font-weight: 800; color: var(--text-main);" id="statMaterials">0
                        </div>
                    </div>
                    <div
                        style="width: 70px; height: 70px; border-radius: 16px; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.05)); border: 1px solid rgba(34, 197, 94, 0.2); display: flex; align-items: center; justify-content: center; color: #22c55e; font-size: 2.2rem; box-shadow: inset 0 0 20px rgba(34, 197, 94, 0.1);">
                        <ion-icon name="library"></ion-icon>
                    </div>
                </div>


            </div>

            <!-- Premium Data Table -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h4 style="font-size: 1.2rem; margin: 0; display: flex; align-items: center; gap: 8px;">
                    <div style="width: 8px; height: 24px; background: var(--primary); border-radius: 4px;"></div> System
                    Users
                </h4>
            </div>

            <div class="glass-panel" style="overflow: hidden; padding: 0;">
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; text-align: left;">
                        <thead>
                            <tr style="background: rgba(0, 0, 0, 0.2); border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <th
                                    style="padding: 16px 20px; font-size: 0.85rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                                    User Details</th>
                                <th
                                    style="padding: 16px 20px; font-size: 0.85rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                                    Role</th>
                                <th
                                    style="padding: 16px 20px; font-size: 0.85rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">
                                    Status</th>
                                <th
                                    style="padding: 16px 20px; font-size: 0.85rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; text-align: right;">
                                    Action</th>
                            </tr>
                        </thead>
                        <tbody id="userTableBody" style="color: var(--text-main);">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <!-- Modals (kept generic) -->
    <div id="addSubjectModal"
        style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center;">
        <div
            style="background: white; padding: 30px; border-radius: 16px; width: 400px; color: var(--text-main); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);">
            <h3 style="margin-bottom: 20px;">Add New Course</h3>
            <form id="addSubjectForm">
                <input type="text" id="subName" class="input-field" placeholder="Course Name" required
                    style="margin-bottom: 15px;">
                <input type="text" id="subCode" class="input-field" placeholder="Course Code" required
                    style="margin-bottom: 15px;">
                <select id="subSections" class="input-field" style="margin-bottom: 15px;" required>
                    <option value="" disabled selected>Select Section</option>
                    <option value="K23PG">K23PG</option>
                    <option value="K23ND">K23ND</option>
                    <option value="K23GF">K23GF</option>
                    <option value="K23KL">K23KL</option>
                    <option value="K23TH">K23TH</option>
                    <option value="K23PG,K23ND,K23GF,K23KL,K23TH">All Sections</option>
                </select>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button type="button" class="btn btn-ghost" id="closeAddSubject">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Upload Modal Backdrop -->
    <div id="uploadMaterialModal"
        style="position: fixed; inset: 0; background: rgba(15,23,42,0.85); backdrop-filter: blur(8px); z-index: 2000; display: none; overflow-y: auto; padding: 20px;">
        <div
            style="margin: 40px auto; width: 100%; max-width: 500px; padding: 40px; background: #ffffff; border-radius: 0; border: 4px solid #000000; box-shadow: 12px 12px 0 rgba(0,0,0,1); color: #000000; animation: popIn 0.4s ease-out;">
            <h3
                style="margin-bottom: 25px; color: #000000; border-bottom: 2px solid #000000; padding-bottom: 15px; font-weight: 800; text-transform: uppercase;">
                Upload Course Material</h3>
            <form id="uploadForm">
                <input type="hidden" id="uploadSubId">

                <div style="margin-bottom: 20px;">
                    <label
                        style="display: block; margin-bottom: 8px; font-size: 0.95rem; font-weight: 700; color: #000000;">Subject</label>
                    <input type="text" id="uploadSubName" readonly
                        style="width: 100%; padding: 12px 15px; border: 2px solid #000000; background: #f0f0f0; color: #555555; cursor: not-allowed; font-weight: 600; font-family: inherit;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label
                        style="display: block; margin-bottom: 8px; font-size: 0.95rem; font-weight: 700; color: #000000;">Title</label>
                    <input type="text" id="matTitle" placeholder="e.g. Chapter 4 Intro to OOPs"
                        style="width: 100%; padding: 12px 15px; border: 2px solid #000000; background: #ffffff; color: #000000; font-weight: 600; font-family: inherit;"
                        required>
                </div>

                <!-- NEW FILE UPLOAD FIELD -->
                <div style="margin-bottom: 25px; padding: 25px; border: 3px dashed #000000; background: #ffffff; text-align: center; cursor: pointer; transition: background 0.2s;"
                    onmouseover="this.style.background='#f9f9f9'" onmouseout="this.style.background='#ffffff'">
                    <label
                        style="display: block; margin-bottom: 10px; font-size: 1.1rem; font-weight: 800; color: #000000; cursor: pointer;">SELECT
                        FILE</label>
                    <input type="file" id="matFile"
                        style="width: 100%; background: transparent; border: none; cursor: pointer; color: #000000; font-weight: 600;"
                        required>
                </div>

                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <div style="flex: 1;">
                        <label
                            style="display: block; margin-bottom: 8px; font-size: 0.95rem; font-weight: 700; color: #000000;">Category</label>
                        <select id="matCategory"
                            style="width: 100%; padding: 12px 15px; border: 2px solid #000000; background: #ffffff; color: #000000; font-weight: 600; font-family: inherit; cursor: pointer;">
                            <option value="Lecture Notes">Lecture Notes</option>
                            <option value="Handwritten Notes">Handwritten Notes</option>
                            <option value="Assignments">Assignments / Practicals</option>
                            <option value="Previous Year Papers">Previous Year Papers</option>
                        </select>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-bottom: 35px;">
                    <div style="flex: 1;">
                        <label
                            style="display: block; margin-bottom: 8px; font-size: 0.95rem; font-weight: 700; color: #000000;">Unit</label>
                        <select id="matUnit"
                            style="width: 100%; padding: 12px 15px; border: 2px solid #000000; background: #ffffff; color: #000000; font-weight: 600; font-family: inherit; cursor: pointer;">
                            <option value="1">Unit 1</option>
                            <option value="2">Unit 2</option>
                            <option value="3">Unit 3</option>
                            <option value="4">Unit 4</option>
                            <option value="5">Unit 5</option>
                        </select>
                    </div>
                    <div style="flex: 1;">
                        <label
                            style="display: block; margin-bottom: 8px; font-size: 0.95rem; font-weight: 700; color: #000000;">Type</label>
                        <select id="matType"
                            style="width: 100%; padding: 12px 15px; border: 2px solid #000000; background: #ffffff; color: #000000; font-weight: 600; font-family: inherit; cursor: pointer;">
                            <option value="PDF">PDF</option>
                            <option value="PPT">PPT</option>
                            <option value="Video">Video</option>
                        </select>
                    </div>
                </div>

                <div style="display: flex; justify-content: flex-end; gap: 15px;">
                    <button type="button" id="closeUpload"
                        style="padding: 12px 25px; border: 2px solid #000000; background: #ffffff; color: #000000; font-weight: 800; text-transform: uppercase; cursor: pointer; transition: all 0.2s;"
                        onmouseover="this.style.background='#000000'; this.style.color='#ffffff';"
                        onmouseout="this.style.background='#ffffff'; this.style.color='#000000';">Cancel</button>
                    <button type="submit"
                        style="padding: 12px 25px; border: 2px solid #000000; background: #000000; color: #ffffff; font-weight: 800; text-transform: uppercase; cursor: pointer; transition: all 0.2s;"
                        onmouseover="this.style.background='#ffffff'; this.style.color='#000000';"
                        onmouseout="this.style.background='#000000'; this.style.color='#ffffff';">Upload</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>

</html>